{"remainingRequest":"/home/vladislav/Programming/Javascript/Vue Projects/notes/node_modules/babel-loader/lib/index.js!/home/vladislav/Programming/Javascript/Vue Projects/notes/src/store/db.js","dependencies":[{"path":"/home/vladislav/Programming/Javascript/Vue Projects/notes/src/store/db.js","mtime":1605200346895},{"path":"/home/vladislav/Programming/Javascript/Vue Projects/notes/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vladislav/Programming/Javascript/Vue Projects/notes/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL2hvbWUvdmxhZGlzbGF2L1Byb2dyYW1taW5nL0phdmFzY3JpcHQvVnVlIFByb2plY3RzL25vdGVzL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0IERleGllIGZyb20gJ2RleGllJzsKaW1wb3J0IHN0b3JlIGZyb20gJy4vaW5kZXgnOwppbXBvcnQgbW9tZW50IGZyb20gJ21vbWVudCc7Cm1vbWVudC5sb2NhbGUoJ3J1Jyk7CmV4cG9ydCB2YXIgZGIgPSBuZXcgRGV4aWUoJ25vdGVzZGInKTsKZGIudmVyc2lvbigxKS5zdG9yZXMoewogIG5vdGVzOiAnKytpZCwgZGF0ZSwgdGl0bGUsIHRleHQnCn0pOwpleHBvcnQgZnVuY3Rpb24gYWRkTmV3Tm90ZSgpIHsKICByZXR1cm4gX2FkZE5ld05vdGUuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKfQoKZnVuY3Rpb24gX2FkZE5ld05vdGUoKSB7CiAgX2FkZE5ld05vdGUgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICB2YXIgaWQ7CiAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgd2hpbGUgKDEpIHsKICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOwogICAgICAgICAgICByZXR1cm4gZGIubm90ZXMucHV0KHsKICAgICAgICAgICAgICBkYXRlOiBtb21lbnQoKS5mb3JtYXQoJ2xsbGwnKSwKICAgICAgICAgICAgICB0aXRsZTogJ015IGZpcnN0IG5vdGUnLAogICAgICAgICAgICAgIHRleHQ6ICdIZWxsbyB3b3JsZCEnCiAgICAgICAgICAgIH0pOwoKICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgaWQgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICBjb25zb2xlLmxvZygiR290IGlkICIgKyBpZCk7CgogICAgICAgICAgY2FzZSA0OgogICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sIF9jYWxsZWUpOwogIH0pKTsKICByZXR1cm4gX2FkZE5ld05vdGUuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKfQoKZXhwb3J0IGZ1bmN0aW9uIGdldEFsbE5vdGVzKCkgewogIHJldHVybiBfZ2V0QWxsTm90ZXMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKfSAvLyBhZGROZXdOb3RlKCkuY2F0Y2goZXJyID0+IHsKLy8gICAgIGNvbnNvbGUuZXJyb3IoIkVycm9yIik7Ci8vIH0pCgpmdW5jdGlvbiBfZ2V0QWxsTm90ZXMoKSB7CiAgX2dldEFsbE5vdGVzID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgIHZhciBub3RlLCBkYXRhOwogICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgd2hpbGUgKDEpIHsKICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAyOwogICAgICAgICAgICByZXR1cm4gZGIubm90ZXMud2hlcmUoJ2lkJykuYWJvdmUoMCkudG9BcnJheSgpOwoKICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgbm90ZSA9IF9jb250ZXh0Mi5zZW50OwogICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDU7CiAgICAgICAgICAgIHJldHVybiBub3RlOwoKICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgZGF0YSA9IF9jb250ZXh0Mi5zZW50OwogICAgICAgICAgICBzdG9yZS5kaXNwYXRjaCgnZ2V0QWxsTm90ZXMnLCBkYXRhKTsKCiAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sIF9jYWxsZWUyKTsKICB9KSk7CiAgcmV0dXJuIF9nZXRBbGxOb3Rlcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9"},{"version":3,"sources":["/home/vladislav/Programming/Javascript/Vue Projects/notes/src/store/db.js"],"names":["Dexie","store","moment","locale","db","version","stores","notes","addNewNote","put","date","format","title","text","id","console","log","getAllNotes","where","above","toArray","note","data","dispatch"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,SAAlB;AACA,OAAOC,MAAP,MAAmB,QAAnB;AACAA,MAAM,CAACC,MAAP,CAAc,IAAd;AAGA,OAAO,IAAIC,EAAE,GAAG,IAAIJ,KAAJ,CAAU,SAAV,CAAT;AACPI,EAAE,CAACC,OAAH,CAAW,CAAX,EAAcC,MAAd,CAAqB;AACjBC,EAAAA,KAAK,EAAE;AADU,CAArB;AAIA,gBAAsBC,UAAtB;AAAA;AAAA;;;wEAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACYJ,EAAE,CAACG,KAAH,CAASE,GAAT,CAAa;AACxBC,cAAAA,IAAI,EAAGR,MAAM,GAAGS,MAAT,CAAgB,MAAhB,CADiB;AAExBC,cAAAA,KAAK,EAAE,eAFiB;AAGxBC,cAAAA,IAAI,EAAE;AAHkB,aAAb,CADZ;;AAAA;AACCC,YAAAA,EADD;AAMHC,YAAAA,OAAO,CAACC,GAAR,CAAY,YAAYF,EAAxB;;AANG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;;;AASP,gBAAsBG,WAAtB;AAAA;AAAA,C,CAMA;AACA;AACA;;;yEARO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACcb,EAAE,CAACG,KAAH,CAASW,KAAT,CAAe,IAAf,EAAqBC,KAArB,CAA2B,CAA3B,EAA8BC,OAA9B,EADd;;AAAA;AACCC,YAAAA,IADD;AAAA;AAAA,mBAEcA,IAFd;;AAAA;AAECC,YAAAA,IAFD;AAGHrB,YAAAA,KAAK,CAACsB,QAAN,CAAe,aAAf,EAA8BD,IAA9B;;AAHG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G","sourcesContent":["import Dexie from 'dexie';\nimport store from './index'\nimport moment from 'moment';\nmoment.locale('ru')\n\n\nexport let db = new Dexie('notesdb');\ndb.version(1).stores({\n    notes: '++id, date, title, text'\n})\n\nexport async function addNewNote(){\n    let id = await db.notes.put({\n        date:  moment().format('llll'),\n        title: 'My first note',\n        text: 'Hello world!'\n    })\n    console.log(\"Got id \" + id );\n}\n\nexport async function getAllNotes(){\n    let note = await db.notes.where('id').above(0).toArray()\n    let data = await note;\n    store.dispatch('getAllNotes', data)\n}\n\n// addNewNote().catch(err => {\n//     console.error(\"Error\");\n// })\n"]}]}