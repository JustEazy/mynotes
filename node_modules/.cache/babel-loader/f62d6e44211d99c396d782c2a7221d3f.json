{"remainingRequest":"/home/vladislav/Programming/Javascript/Vue Projects/notes/node_modules/babel-loader/lib/index.js!/home/vladislav/Programming/Javascript/Vue Projects/notes/src/store/db.js","dependencies":[{"path":"/home/vladislav/Programming/Javascript/Vue Projects/notes/src/store/db.js","mtime":1605284704285},{"path":"/home/vladislav/Programming/Javascript/Vue Projects/notes/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vladislav/Programming/Javascript/Vue Projects/notes/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL2hvbWUvdmxhZGlzbGF2L1Byb2dyYW1taW5nL0phdmFzY3JpcHQvVnVlIFByb2plY3RzL25vdGVzL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0IERleGllIGZyb20gJ2RleGllJzsKaW1wb3J0IHN0b3JlIGZyb20gJy4vaW5kZXgnOwppbXBvcnQgbW9tZW50IGZyb20gJ21vbWVudCc7Cm1vbWVudC5sb2NhbGUoJ3J1Jyk7CmV4cG9ydCB2YXIgZGIgPSBuZXcgRGV4aWUoJ25vdGVzZGInKTsKZGIudmVyc2lvbigxKS5zdG9yZXMoewogIG5vdGVzOiAnKytpZCwgZGF0ZSwgdGl0bGUsIHRleHQnCn0pOwpleHBvcnQgZnVuY3Rpb24gYWRkTmV3Tm90ZShfeCwgX3gyKSB7CiAgcmV0dXJuIF9hZGROZXdOb3RlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn0KCmZ1bmN0aW9uIF9hZGROZXdOb3RlKCkgewogIF9hZGROZXdOb3RlID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKHRpdGxlLCB0ZXh0KSB7CiAgICB2YXIgbmV3Tm90ZSwgZGF0YTsKICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICB3aGlsZSAoMSkgewogICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgIHJldHVybiBkYi5ub3Rlcy5hZGQoewogICAgICAgICAgICAgIGRhdGU6IG1vbWVudCgpLmZvcm1hdCgnbGxsbCcpLAogICAgICAgICAgICAgIHRpdGxlOiB0aXRsZSwKICAgICAgICAgICAgICB0ZXh0OiB0ZXh0CiAgICAgICAgICAgIH0pOwoKICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgbmV3Tm90ZSA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA1OwogICAgICAgICAgICByZXR1cm4gbmV3Tm90ZTsKCiAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgIGRhdGEgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICBjb25zb2xlLmxvZygiR290IGlkICIgKyBkYXRhKTsKICAgICAgICAgICAgZ2V0QWxsTm90ZXMoKTsKCiAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgIH0KICAgICAgfQogICAgfSwgX2NhbGxlZSk7CiAgfSkpOwogIHJldHVybiBfYWRkTmV3Tm90ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9CgpleHBvcnQgZnVuY3Rpb24gZ2V0QWxsTm90ZXMoKSB7CiAgcmV0dXJuIF9nZXRBbGxOb3Rlcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9CgpmdW5jdGlvbiBfZ2V0QWxsTm90ZXMoKSB7CiAgX2dldEFsbE5vdGVzID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgIHZhciBub3RlLCBkYXRhOwogICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgd2hpbGUgKDEpIHsKICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAyOwogICAgICAgICAgICByZXR1cm4gZGIubm90ZXMud2hlcmUoJ2lkJykuYWJvdmUoMCkudG9BcnJheSgpOwoKICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgbm90ZSA9IF9jb250ZXh0Mi5zZW50OwogICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDU7CiAgICAgICAgICAgIHJldHVybiBub3RlOwoKICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgZGF0YSA9IF9jb250ZXh0Mi5zZW50OwogICAgICAgICAgICBzdG9yZS5kaXNwYXRjaCgnZ2V0QWxsTm90ZXMnLCBkYXRhKTsKCiAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sIF9jYWxsZWUyKTsKICB9KSk7CiAgcmV0dXJuIF9nZXRBbGxOb3Rlcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9CgpleHBvcnQgZnVuY3Rpb24gZGVsZXRlTm90ZShfeDMpIHsKICByZXR1cm4gX2RlbGV0ZU5vdGUuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKfQoKZnVuY3Rpb24gX2RlbGV0ZU5vdGUoKSB7CiAgX2RlbGV0ZU5vdGUgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKG5vdGVJZCkgewogICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgd2hpbGUgKDEpIHsKICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAyOwogICAgICAgICAgICByZXR1cm4gZGIubm90ZXMuZGVsZXRlKG5vdGVJZCk7CgogICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICBnZXRBbGxOb3RlcygpOwoKICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgIH0KICAgICAgfQogICAgfSwgX2NhbGxlZTMpOwogIH0pKTsKICByZXR1cm4gX2RlbGV0ZU5vdGUuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKfQ=="},{"version":3,"sources":["/home/vladislav/Programming/Javascript/Vue Projects/notes/src/store/db.js"],"names":["Dexie","store","moment","locale","db","version","stores","notes","addNewNote","title","text","add","date","format","newNote","data","console","log","getAllNotes","where","above","toArray","note","dispatch","deleteNote","noteId","delete"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,SAAlB;AACA,OAAOC,MAAP,MAAmB,QAAnB;AACAA,MAAM,CAACC,MAAP,CAAc,IAAd;AAGA,OAAO,IAAIC,EAAE,GAAG,IAAIJ,KAAJ,CAAU,SAAV,CAAT;AACPI,EAAE,CAACC,OAAH,CAAW,CAAX,EAAcC,MAAd,CAAqB;AACjBC,EAAAA,KAAK,EAAE;AADU,CAArB;AAIA,gBAAsBC,UAAtB;AAAA;AAAA;;;wEAAO,iBAA0BC,KAA1B,EAAiCC,IAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACiBN,EAAE,CAACG,KAAH,CAASI,GAAT,CAAa;AAC7BC,cAAAA,IAAI,EAAEV,MAAM,GAAGW,MAAT,CAAgB,MAAhB,CADuB;AAE7BJ,cAAAA,KAAK,EAAEA,KAFsB;AAG7BC,cAAAA,IAAI,EAAEA;AAHuB,aAAb,CADjB;;AAAA;AACCI,YAAAA,OADD;AAAA;AAAA,mBAMcA,OANd;;AAAA;AAMCC,YAAAA,IAND;AAOHC,YAAAA,OAAO,CAACC,GAAR,CAAY,YAAYF,IAAxB;AACAG,YAAAA,WAAW;;AARR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;;;AAYP,gBAAsBA,WAAtB;AAAA;AAAA;;;yEAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACcd,EAAE,CAACG,KAAH,CAASY,KAAT,CAAe,IAAf,EAAqBC,KAArB,CAA2B,CAA3B,EAA8BC,OAA9B,EADd;;AAAA;AACCC,YAAAA,IADD;AAAA;AAAA,mBAEcA,IAFd;;AAAA;AAECP,YAAAA,IAFD;AAGHd,YAAAA,KAAK,CAACsB,QAAN,CAAe,aAAf,EAA8BR,IAA9B;;AAHG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;;;AAMP,gBAAsBS,UAAtB;AAAA;AAAA;;;wEAAO,kBAA0BC,MAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACGrB,EAAE,CAACG,KAAH,CAASmB,MAAT,CAAgBD,MAAhB,CADH;;AAAA;AAEHP,YAAAA,WAAW;;AAFR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G","sourcesContent":["import Dexie from 'dexie';\nimport store from './index'\nimport moment from 'moment';\nmoment.locale('ru')\n\n\nexport let db = new Dexie('notesdb');\ndb.version(1).stores({\n    notes: '++id, date, title, text'\n})\n\nexport async function addNewNote(title, text) {\n    let newNote = await db.notes.add({\n        date: moment().format('llll'),\n        title: title,\n        text: text\n    })\n    let data = await newNote;\n    console.log(\"Got id \" + data);\n    getAllNotes();\n\n}\n\nexport async function getAllNotes() {\n    let note = await db.notes.where('id').above(0).toArray();\n    let data = await note;\n    store.dispatch('getAllNotes', data);\n}\n\nexport async function deleteNote(noteId) {\n    await db.notes.delete(noteId);\n    getAllNotes();\n}\n\n"]}]}